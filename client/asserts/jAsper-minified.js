function $_(a){var b=document.querySelectorAll(a);return 0!=b.length&&(1==b.length?b[0]:b)}function ToHEX(a){return"#"+(a[0]<<16|a[1]<<8|a[2]).toString(16)}var Jasper=function(){function k(a){return d.call(a,function(a){return null!=a})}var a,b=[],c=b.slice,d=b.filter,f={},g=Array.isArray||function(a){return a instanceof Array},h=function(a){return a instanceof Object};f.init=function(b,c){var d;if("string"==typeof b){if("<"==b[0])return f.fragment(b);if(b=b.trim(),"undefined"!=typeof Context)return a(b).find(c);d=f.select(document,b)}else{if(f.isJasper(b))return b;g(b)?d=k(b):h(b)&&(d=[b],b=null)}return f.Jasper(d,b)},f.fragment=function(b){var c=/^<([^\/].*?)>$/,d=/(?:<)(.*?)( .*?)?(?:>)/,e=d.exec(b),f=e[0],g=e[1],h=e[2],i="undefined"!=typeof h,j=!f.match(c);if(j)var k=new RegExp(f+"(.*?)(?:</"+g+">)$"),l=k.exec(b),m=l[1];if(i)for(var n=h.split(/(?:\s)?(.*?)=(?:"|')(.*?)(?:"|')/).filter(Boolean),o={},p=0;p<n.length;p++)(p+2)%2==0&&(o[n[p]]=n[p+1]);var q=a(document.createElement(g));return i&&q.attr(o),j&&q.html(m),q},f.isJasper=function(a){return a instanceof f.Jasper},f.select=function(a,b){try{return c.call(a.querySelectorAll(b))}catch(a){console.log("TOCAS ERROR: Something wrong while selecting "+b+" element.")}},f.Jasper=function(b,c){return b=b||[],b.__proto__=a.fn,b.selector=c||"",b},a=function(a,b){return"function"!=typeof a?f.init(a,b):void document.addEventListener("DOMContentLoaded",a)},a.fn={each:function(a){return b.every.call(this,function(b,c){return a.call(b,c,b)!==!1}),this},slice:function(){return a(c.apply(this,arguments))},eq:function(a){return this.slice(a,+a+1)}},window.jA||(window.jA=a)}(Jasper);jA.deferred=function(){this._always=[],this._done=[],this._fail=[]},jA.deferred.prototype={execute:function(a,b){var c=a.length;for(b=Array.prototype.slice.call(b);c--;)a[c].apply(null,b)},anyway:function(){return this.execute(this._always,arguments),this},resolve:function(){return this.execute(this._done,arguments),this},reject:function(){return this.execute(this._fail,arguments),this},then:function(){return this},done:function(a){return this._done.push(a),this},fail:function(a){return this._fail.push(a),this},always:function(a){return this._always.push(a),this}},jA.isJSON=function(a){var b=!0;try{JSON.parse(a)}catch(a){var b=!1}return b},jA.inArray=function(a,b){return b.indexOf(a)},jA.isNumeric=function(a){return!isNaN(parseFloat(Number))&&isFinite(Number)},jA.rand=function(a,b){return Math.floor(Math.random()*(b-a+1)+a)};var jAsperGuids=[];jA.guid=function(){function b(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var a;do a=b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b();while(jAsperGuids.indexOf(a)!=-1);return jAsperGuids.push(a),a},jA.digits=function(a){return a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"jA1,")},jA.isset=function(){var d,a=arguments,b=a.length,c=0;if(0===b)throw new Error("Empty isset");for(;c!==b;){if(a[c]===d||null===a[c])return!1;c++}return!0},jA.setTimeout=function(a){var b=new jA.deferred;return setTimeout(function(a){b.resolve(a)},a),b},jA.fn.attr=function(a,b){return b=null===b?null:b,"object"!=typeof a||b?null!=a&&null!=b?this.each(function(){this.setAttribute(a,b)}):null==a||b?void 0:0 in this?this[0].getAttribute(a):null:this.each(function(){for(var b in a)this.setAttribute(b,a[b])})},jA.fn.removeAttr=function(a){return this.each(function(){this.removeAttribute(a)})},jA.fn.val=function(a){return null==a?0 in this?"SELECT"==this[0].nodeName?this[0].options[this[0].selectedIndex].value:this[0].value:null:this.each(function(){this.value=a})},jA.fn.empty=function(){return this.each(function(){"undefined"!=this.innerHTML&&(this.innerHTML=""),"undefined"!=this.value&&(this.value="")})},jA.fn.text=function(a){return void 0===a?0 in this?this[0].innerText:null:this.each(function(){this.textContent=a})},jA.fn.html=function(a){return a=a||null,a?this.each(function(){this.innerHTML=a}):0 in this?this[0].innerHTML:null},jA.fn.fdPush=function(a){for(var b in a)this[0].append(b,a[b]);return this[0]},jA.cookie=function(a,b,c){if(null!=b){var d=c instanceof Object&&"undefined"!=typeof c.expires?c.expires:365,e=c instanceof Object&&"undefined"!=typeof c.domain?" domain="+c.domain+";":"",f=" path="+(c instanceof Object&&"undefined"!=typeof c.path?c.path:"/")+";",g=new Date;!c instanceof Object&&c===-1?g.setTime(g.getTime()-864e5):g.setTime(g.getTime()+24*d*60*60*1e3);var h="expires="+g.toUTCString()+";";document.cookie=a+"="+(b||"")+"; "+h+e+f}else{var i=a+"=",j=document.cookie.split(";");for(var k in j){for(var l=j[k];" "==l.charAt(0);)l=l.substring(1);if(l.indexOf(i)!=-1)return l.substring(i.length,l.length)}}return"undefined"},jA.fn.cssAnimate=function(a,b,c){if("number"==typeof b&&"function"!=typeof c&&(c=b),"number"==typeof b&&"function"==typeof c){var d=c,e=b;b=d,c=e}var f=parseInt((c/1e3).toString().replace(".",""),10);return f=c<1e3?"0"+f:f,c=isNaN(c)?"":" animated"+f+"s",this.each(function(){var d=this;jA(this).addClass(a+" animated"+c).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){jA(d).removeClass(a+" animated"+c),"undefined"!=typeof b&&null!=b&&"number"!=typeof b&&b.call(d)})})},jA.fn.css=function(a,b){var c="";if(null!=a&&null!=b)c=a+":"+b+";";else if("object"!=typeof Property||Array.isArray(a)||null!=b){if(Array.isArray(a)&&null==b){var e={};return this.each(function(){for(var b in a)e[a[b]]=jA(this).getCss(a[b])}),e}if(null!=a&&null==b)return jA(this).getCss(a)}else for(var d in a)a.hasOwnProperty(d)&&(c+=d+":"+a[d]+";");return this.each(function(){"undefined"!=typeof this.style&&(this.style.cssText=this.style.cssText+c)})},jA.fn.hasClass=function(a){if(0 in this)return this[0].classList?this[0].classList.contains(a):new RegExp("(^| )"+a+"( |$)","gi").test(this[0].className)},jA.fn.classList=function(){var a=[];if(0 in this)if(this[0].classList)for(var b=0;b<this[0].classList.length;b++)a.push(this[0].classList[b]);else for(var b in this[0].className.split(" "))a.push(this[0].className.split(" ")[b]);return a},jA.fn.addClass=function(a){if(null!==a)return this.each(function(){var b=a.split(" ");for(var c in b)""!==b[c]&&(this.classList?this.classList.add(b[c]):this.className+=" "+b[c])})},jA.fn.removeClass=function(a){return this.each(function(){if(a){var b=a.split(" ");for(var c in b)""!=b[c]&&(this.classList?this.classList.remove(b[c]):"undefined"!=typeof this.className&&(this.className=this.className.replace(new RegExp("(^|\\b)"+a.split(" ").join("|")+"(\\b|$)","gi")," ")))}else this.className=""})},jA.fn.toggleClass=function(a){return this.each(function(){var b,c,d;b=a.split(" ");for(var e in b)this.classList?this.classList.toggle(b[e]):(d=this.className.split(" "),c=b.indexOf(b[e]),c>=0?d.splice(c,1):d.push(b[e]),this.className=b[e].join(" "))})},jA.fn.getCss=function(a){try{return 0 in this?document.defaultView.getComputedStyle(this[0],null).getPropertyValue(a):null}catch(a){return null}},jA.fn.validate=function(){var a=jA(this),b=a.attr("minlength"),c=a.attr("maxlength"),d=a.attr("min"),e=a.attr("max"),f=null!=a.attr("required"),g=a.attr("pattern"),h=a.attr("type"),i=a.val();if(f&&""==i)return"required";if(null!==b&&i.length<b)return"minlegnth";if(null!==c&&i.length>c)return"maxlegnth";if(null!==d&&parseInt(i)<d)return"min";if(null!==e&&parseInt(i)>e)return"max";if(null!==g){var j=new RegExp(g.replace(/\//g,""));if(!j.test(i))return"pattern"}return!(null!==h&&"email"==h&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i))||"email"},jA.fn.wrap=function(a){return this.each(function(){this.parentNode.insertBefore(a,this),a.appendChild(this)})},jA.fn.append=function(a){return null!=a&&"object"==typeof a?this.each(function(){this.appendChild(a)}):null!=a?this.each(function(){this.innerHTML+=a}):void 0},jA.fn.after=function(a){if(null!=a)return this.each(function(){this.insertAdjacentHTML("afterend",a)})},jA.fn.before=function(a){if(null!=a)return this.each(function(){this.insertAdjacentHTML("beforeBegin",a)})},jA.fn.prepend=function(a){if(null!=a)return this.each(function(){this.parentNode.insertBefore(a,this.nextSibling)})},jA.fn.appendTo=function(a){return this.each(function(){var b=this;jA(a).each(function(){this.appendChild(b,this.nextSibling)})})},jA.fn.prependTo=function(a){return this.each(function(){var b=this;jA(a).each(function(){this.insertBefore(b,this.firstChild)})})},jA.fn.insertAfter=function(a){return this.each(function(){var b=this;jA(a).each(function(){this.parentNode.insertBefore(b,this.nextSibling)})})},jA.fn.insertBefore=function(a){return this.each(function(){var b=this;jA(a).each(function(){this.insertAdjacentHTML("beforeBegin",b)})})},jA.fn.template=function(){return jA(this.clone()[0].content).children()},jA.fn.clone=function(a){a="undefined"==typeof a||a;var b=[];return this.each(function(){b.push(this.cloneNode(a))}),jA(b)},jA.fn.remove=function(){return this.each(function(){this.parentNode.removeChild(this)})},jA.fn.children=function(){var a=[];return this.each(function(b,c){a.push.apply(a,c.children)}),jA(a)},jA.fn.find=function(a){if("string"!=typeof a)return null;var b=[];return this.each(function(c,d){b.push.apply(b,d.querySelectorAll(a))}),b.length?jA(b):null},jA.fn.parent=function(){return 0 in this?jA(this[0].parentNode):null},jA.fn.parents=function(a){var b=this,a=a||null,c=[];if(null!==a)var a=jA(a);for(;b&&(b=jA(b).parent()[0]);)(null==a||null!==a&&Array.prototype.indexOf.call(a,b)!==-1)&&c.push(b);return jA(c)},jA.fn.closest=function(a){for(var b=this,a=jA(a);;){if(b=jA(b).parent()[0],!b)return null;if(Array.prototype.indexOf.call(a,b)!==-1)return jA(b)}},jA.fn.contains=function(a){var b=jA(a),c=!1;return this.each(function(a,d){for(var e=d.childNodes,f=0;f<b.length;f++)Array.prototype.indexOf.call(e,b[f])!=-1&&(c=!0)}),c},jA.fn.next=function(){if(0 in this){var a=this[0].nextElementSibling;return a?jA(a):null}return null},jA.fn.prev=function(){if(0 in this){var a=this[0].previousElementSibling;return a?jA(a):null}return null},jA.fn.hide=function(){return this.each(function(){jA(this).addClass("hidden")})},jA.fn.show=function(){return this.each(function(){jA(this).removeClass("hidden")})},jA.fn.isHidden=function(){return jA(this).hasClass("hidden")},jA.fn.toggle=function(){return this.each(function(){jA(this).hasClass("hidden")?jA(this).show():jA(this).hide()})},jA.fn.serialize=function(){var a=[];return this.each(function(){for(var b,c,b=0;b<this.elements.length;b++){var d=this.elements[b],e=d.name,f=d.value;if(e&&!d.disabled&&f)switch(d.nodeName){case"INPUT":switch(d.type){case"text":case"hidden":case"password":case"button":case"reset":case"submit":case"number":case"email":a.push(e+"="+encodeURIComponent(f));break;case"checkbox":case"radio":if(!d.checked)continue;a.push(e+"="+encodeURIComponent(f))}break;case"TEXTAREA":a.push(e+"="+encodeURIComponent(f));break;case"SELECT":switch(d.type){case"select-one":a.push(e+"="+encodeURIComponent(f));break;case"select-multiple":for(var c=0;c<d.options.length;c++){var g=d.options[c].value;d.options[c].selected&&a.push(e+"="+encodeURIComponent(g))}}break;case"BUTTON":switch(d.type){case"reset":case"submit":case"button":a.push(e+"="+encodeURIComponent(f))}}}}),a.join("&").toString()},jA.fn.formExplode=function(){var a={};return this.find("[name]").each(function(){"file"!==this.type&&(a[this.name]=""==this.value?void 0:this.value)}),a},jA.fn.formValidate=function(a,b){var c=!0,d=!0;return a=a||null,b=b||!1,jA(this).find("[name]").each(function(){var e=jA(this),f=this.getAttribute("name"),g=e.validate();return!(!c&&!d&&b)&&(g===!0?(null!==a&&void 0!==a[f]&&void 0!==a[f].valid&&a[f].valid.call(this),!0):(c=!1,void(null!==a&&void 0!==a[f]&&(void 0!==a[f][g]&&a[f][g].call(this),void 0!==a[f].invalid&&a[f].invalid.call(this,f),d=!1))))}),c},jA.binder=function(a,b){function g(a,c,d){var e=c.split(" ");switch(a){case" window":case" Window":a=window;break;case" document":case" Document":a=document}for(var f in e){var g=e[f];"scrollBottom"==g?(b&&jA(a).off("scroll"),jA(a).scrollBottom(d)):"ready"==g?(b&&jA(a).off("DOMContentLoaded"),jA(a).ready(d)):""!=g&&(b&&jA(a).off(g),jA(a).on(g,d))}}b=b||!1;for(var c in a){var d=c.split("|"),e=d[0],f=d[1].split("&");for(var h in f)if(a[c].isArray)for(var i in a[c])g(f[h],e,a[c][i]);else g(f[h],e,a[c])}},jA.fn.mousedown=function(a){return jA(this).on("mousedown",a)},jA.fn.mouseup=function(a){return jA(this).on("mouseup",a)},jA.fn.keyup=function(a){return jA(this).on("keyup",a)},jA.fn.mousemove=function(a){return jA(this).on("mousemove",a)},jA.fn.click=function(a){return jA(this).on("click",a)},jA.fn.dragstart=function(a){return jA(this).on("dragstart",a)},jA.fn.longPress=function(a,b,c){return isNaN(b)||(c=b),c=c||500,this.each(function(){jA(this).mousedown(function(b){var d=this;return d.ts_longPressed=!1,this.ts_longPressTimer=setTimeout(function(){a.call(d),d.ts_longPressed=!0},c),!1}).mouseup(function(a){return this.ts_longPressed||"undefined"!=typeof b&&b.call(this),clearTimeout(this.ts_longPressTimer),!1}).mousemove(function(a){return clearTimeout(this.ts_longPressTimer),!1})})},jA.fn.trigger=function(a){return this.each(function(){this[a]()})},jA.fn.scrollBottom=function(a,b){jA(this).on("scroll",function(){var c=this.scrollHeight-this.scrollTop-this.clientHeight;"undefined"==typeof a&&null==a||a.call(this,c),0==c&&"undefined"!=typeof b&&b.call(this,c)})},jA.fn.ready=function(a){0 in this&&this[0].addEventListener("DOMContentLoaded",a)},jA.fn.focus=function(){return this.each(function(){this.focus()})},jA.fn.isBottom=function(){if(0 in this)return this[0].scrollHeight-this[0].scrollTop-this[0].clientHeight==0},jA.fn.delayKeyup=function(a,b){return this.each(function(){var c=0,e=(jA(this),this);jA(this).keyup(function(d){var d=d;clearTimeout(c),c=setTimeout(function(){a.call(e,d)},b)})})},jA.fn.on=function(a,b,c,d){d=d||!1;var e=!0;return"string"!=typeof b&&(e=!1,c=b),"function"!=typeof c&&(d=c),this.each(function(){if("undefined"==typeof this.addEventListener)return console.log("TOCAS ERROR: Event listener is not worked with this element."),!1;"undefined"==typeof this.ts_eventHandler&&(this.ts_eventHandler={});var f=a.split(" ");for(var g in f){var h=f[g];"undefined"==typeof this.ts_eventHandler[h]&&(this.ts_eventHandler[h]={registered:!1,list:[]}),this.ts_eventHandler[h].registered===!1&&(this.addEventListener(h,function(a){if("undefined"!=typeof this.ts_eventHandler[h])for(var b in this.ts_eventHandler[h].list){if("undefined"!=typeof this.ts_eventHandler[h].list[b].selector){var c=!1;if(jA(this.ts_eventHandler[h].list[b].selector).each(function(b,d){a.target===d&&(c=!0)}),!c)return}this.ts_eventHandler[h].list[b].func.call(this,a),this.ts_eventHandler[h].list[b].once&&delete this.ts_eventHandler[h].list[b]}}),this.ts_eventHandler[h].registered=!0);var i=this.ts_eventHandler[h].list,j={func:c,once:d};e&&(j.selector=b),i.push(j),this.ts_eventHandler[h].list=i}})},jA.fn.one=function(a,b,c){return this.each(function(){jA(this).on(a,b,c,!0)})},jA.fn.off=function(a,b){return this.each(function(){if("undefined"!=typeof this.ts_eventHandler&&"undefined"!=typeof this.ts_eventHandler[a]){if(null==b)return void(this.ts_eventHandler[a].list=[]);for(var c in this.ts_eventHandler[a].list)b===this.ts_eventHandler[a].list[c].func&&delete this.ts_eventHandler[a].list[c]}})},jA.fn.avgColor=function(a){if(a=a||null,0 in this){var b=this[0],c=document.createElement("canvas");c.width=b.width,c.height=b.height;var d=c.getContext("2d");if(d.drawImage(b,0,0,b.width,b.height),b.width<=0||b.height<=0)return!1;for(var e=d.getImageData(0,0,b.width,b.height).data,f=0,g=0,h=0,i=0;i<b.height;i++)for(var j=0;j<b.width;j++)f+=e[4*(b.width*i+j)],g+=e[4*(b.width*i+j)+1],h+=e[4*(b.width*i+j)+2];if(f/=b.width*b.height,g/=b.width*b.height,h/=b.width*b.height,f=Math.round(f),g=Math.round(g),h=Math.round(h),null!==a)switch(a.toUpperCase()){case"R":return f;case"G":return g;case"B":return h;case"RGB":return[f,g,h]}return"#"+(f<<16|g<<8|h).toString(16)}return null},jA.fn.colorWheel=function(a,b){return this.each(function(){var h,i,j,k,n,o,p,q,r,s,t,v,w,x,a=this,b=a.getContext("2d"),c=parseInt(jA(this).css("width")),d=parseInt(jA(this).css("height")),e=c/2,f=d/2,g=c/1,m=0;for(h=b.createImageData(c,d),i=h.data,o=0;o<d;o+=1)for(n=0;n<c;n+=1,m+=4)p=n-e,q=o-f,r=p*p+q*q,r<g*g&&(j=6*(Math.atan2(q,p)+Math.PI)/(2*Math.PI),k=Math.sqrt(r)/(c/2.3),t=Math.floor(j),s=j-t,v=255*(1-k),w=255*(1-k*s),x=255*(1-k*(1-s)),i[m]=[255,w,v,v,x,255,255][t],i[m+1]=[x,255,255,w,v,v,x][t],i[m+2]=[v,v,x,255,255,w,v][t],i[m+3]=255);b.putImageData(h,0,0)})},jA.fn.picker=function(a){if("undefined"!=typeof a)return this.each(function(){mouseDown=!1,jA(this).mousedown(function(){mouseDown=!0}),jA(this).mouseup(function(){mouseDown=!1}),jA(this).mousemove(function(b){if(mouseDown){var c=this.getContext("2d"),d=this.getBoundingClientRect(),e=b.clientX-d.left,f=b.clientY-d.top,g=c.getImageData(e,f,1,1).data;a(g)}})})},jA.fn.grayColor=function(){return this.each(function(){var a=this.getContext("2d"),b=parseInt(jA(this).css("width")),c=parseInt(jA(this).css("height")),d=a.createLinearGradient(b,0,0,0);d.addColorStop(0,"black"),d.addColorStop(1,"white"),a.fillStyle=d,a.fillRect(0,0,b,c)})},jA.fn.drawable=function(){return this.each(function(){var a=document.createElement("canvas");a.id=this.id+"-temp",a.width=this.width,a.height=this.height,a.className+=" hidden",this.parentNode.appendChild(a),this.drawTemp=a.id,this.drawUsing="pencil",this.drawWidth=1,this.drawProcess=function(a){a.layerX||0==ev.layerX?(a._x=a.layerX,a._y=a.layerY):(a.offsetX||0==a.offsetX)&&(a._x=a.offsetX,a._y=a.offsetY);var b=new this.drawTools[this.drawUsing];b[a.type](a)},jA(this).on("mousedown mouseup mousemove",this.drawProcess)})},jA.fn.tool=function(a){return this.each(function(){this.drawTools={};var b=this,c=this.getContext("2d"),d=a.split(" ");for(var e in d)switch(d[e]){case"pencil":this.drawTools.pencil=function(){this.mousedown=function(a){b.drawSwitch=!0,c.beginPath(),c.moveTo(a._x,a._y)},this.mousemove=function(a){b.drawSwitch&&(c.lineTo(a._x,a._y),c.lineCap="round",c.lineWidth=b.drawWidth,c.strokeStyle=b.drawColor,c.stroke())},this.mouseup=function(a){b.drawSwitch=!1}};break;case"rect":this.drawTools.rect=function(){this.mousedown=function(a){b.drawSwitch=!0,b.x0=a._x,b.y0=a._y},this.mousemove=function(a){if(b.drawSwitch){var d=Math.min(a._x,b.x0),e=Math.min(a._y,b.y0),f=Math.abs(a._x-b.x0),g=Math.abs(a._y-b.y0);c.clearRect(0,0,b.width,b.height),f&&g&&(c.strokeStyle=b.drawColor,c.strokeRect(d,e,f,g))}},this.mouseup=function(a){b.drawSwitch=!1}}}})},jA.fn.changeColor=function(a){return this.each(function(){this.drawColor="string"!=typeof a?ToHEX(a):a})},jA.fn.changeTool=function(a){return this.each(function(){this.drawUsing=a})},jA.fn.c2d=function(){return 0 in this?this[0].getContext("2d"):null},jA.fn.linePreview=function(a,b){return a=a||1,b=b||"round",this.each(function(){var c=this.getContext("2d");c.clearRect(0,0,this.width,this.height),c.beginPath(),c.moveTo(20,20),c.bezierCurveTo(50,50,120,0,150,20),c.lineWidth=a,c.lineCap=b,c.stroke()})},jA.fn.setLineWidth=function(a){return a=a||1,this.each(function(){this.drawWidth=a})},jA.fn.tempCanvas=function(){return this.each(function(){var a=document.createElement("canvas");a.id=this.id+"-temp",a.width=this.width,a.height=this.height,a.className+=" hidden",this.parentNode.appendChild(a),this.drawTemp=a.id})},jA.fn.updateCanvas=function(){return this.each(function(){var a=jA("#"+this.drawTemp)[0],b=this.getContext("2d"),c=a.getContext("2d");b.drawImage(a,0,0),c.clearRect(0,0,a.width,a.height)})},jA.fn.genDate=function(a,b){a=a||"day",b=b||"past";var c=new Date;return this.each(function(d,e){var f=c.getFullYear(),g=1,h=1;switch(a){case"year":for(var i=0;i<110;i++){var j=document.createElement("option");j.text="Past"==b?f--:f++,e.add(j)}break;case"month":for(var i=0;i<12;i++){var j=document.createElement("option");j.text=g<10?"0"+g:g,g++,e.add(j)}break;case"day":for(var i=0;i<31;i++){var j=document.createElement("option");j.text=h<10?"0"+h:h,h++,e.add(j)}}})},jA.geo=function(a){if("undefined"==typeof a)return!1;var b="function"==typeof a.notSupported,c="function"==typeof a.error,d="function"==typeof a.deny,e="undefined"!=typeof a.highAccurary&&a.highAccurary,f="number"==typeof a.timeout?a.timeout:8e3,g="number"==typeof a.maxAge,h=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,i={enableHighAccuracy:e,timeout:f};if(g&&(i.maximumAge=g),h)if(c)var j=setTimeout(function(){a.error(3)},f);else if(d)var j=setTimeout(a.deny,f);navigator.geolocation?navigator.geolocation.getCurrentPosition(function(b){h&&clearTimeout(j),a.success(b)},function(b){var e=b.code==b.PERMISSION_DENIED;h&&clearTimeout(j),c?a.error(b):d&&e&&a.deny()},i):b&&a.notSupported()},jA.urlParam=function(a){var b="undefined"==typeof a,c=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),d={};if(0==c.length)return null;for(var e in c){var f=c[e].split("="),g=f[0],h="undefined"!=typeof f[1]&&""!=f[1]?f[1]:"";if(g==a)return h;(b||g==a)&&(d[g]=h)}return Object.keys(d).length?d:void 0},jA.fn.serialize=function(){var a=[];return this.each(function(){for(var b,c,b=0;b<this.elements.length;b++){var d=this.elements[b],e=d.name,f=d.value;if(e&&!d.disabled&&f)switch(d.nodeName){case"INPUT":switch(d.type){case"text":case"hidden":case"password":case"button":case"reset":case"submit":case"number":case"email":a.push(e+"="+encodeURIComponent(f));break;case"checkbox":case"radio":if(!d.checked)continue;a.push(e+"="+encodeURIComponent(f))}break;case"TEXTAREA":a.push(e+"="+encodeURIComponent(f));break;case"SELECT":switch(d.type){case"select-one":a.push(e+"="+encodeURIComponent(f));break;case"select-multiple":for(var c=0;c<d.options.length;c++){var g=d.options[c].value;d.options[c].selected&&a.push(e+"="+encodeURIComponent(g))}}break;case"BUTTON":switch(d.type){case"reset":case"submit":case"button":a.push(e+"="+encodeURIComponent(f))}}}}),a.join("&").toString()},jA.ajax=function(a,b){if(null==a)return!1;var c="undefined"!=typeof a.error,d="undefined"!=typeof a.success,e="object"==typeof a.data&&a.data.constructor!=FormData,f=new jA.deferred;"undefined"==typeof a.async&&(a.async=!0),"undefined"!=typeof a.contentType&&null!=a.contentType||(a.contentType="application/x-www-form-urlencoded; charset=UTF-8");var g=new XMLHttpRequest;if(g.timeout=a.timeout||1e4,g.onload=function(){if("undefined"!=typeof a.statusCode&&"undefined"!=typeof a.statusCode[g.status]&&a.statusCode[g.status](g,g.responseText),g.status>=200&&g.status<400)switch(a.dataType){case"json":jA.isJSON(g.responseText)?(d&&a.success(JSON.parse(g.responseText),g),f.resolve(JSON.parse(g.responseText),g)):(c&&a.error(g,"parsererror"),f.reject(g,"parsererror"));break;case"html":case"text":case"string":default:"function"==typeof a.success&&(a.success(g.responseText,g),f.resolve(g.responseText,g)),"function"==typeof g.close&&g.close()}else c&&a.error(g,"success"),f.reject(g,"success")},g.ontimeout=function(){c&&a.error(g,"timeout"),f.reject(g,"timeout")},g.onerror=function(){c&&a.error(g,"error"),f.reject(g,"error")},"undefined"!=typeof a.uploading&&g.addEventListener("progress",function(b){if(b.lengthComputable){var c=Math.round(b.loaded/b.total*100);a.uploading(c,b)}},!1),g.open(a.type,a.url,a.async),0!=a.contentType&&g.setRequestHeader("Content-Type",a.contentType),"undefined"!=typeof a.headers)for(var h in a.headers)g.setRequestHeader(h,a.headers[h]);if(e){var i="";for(var h in a.data)void 0!==a.data[h]&&(i+=h+"="+a.data[h]+"&");i=i.slice(0,-1)}return g.send(e?i:a.data),f},jA.getJSON=function(a,b){return jA.ajax({url:a,type:"GET",dataType:"json",success:b})},jA.pjax=function(a){function e(b){jA(b.Container).html(b.Content),window.history.pushState(b.State,b.Title,b.URL),document.title=b.Title,"undefined"!=typeof a.success&&a.success(b)}if("function"!=typeof history.pushState)return!1;var b=document.createElement("a");if(b.href=a.url,b.hostname!==window.location.hostname)return!1;var c=b.protocol+"//"+b.hostname+b.pathname,d=window.location.protocol+"//"+window.location.hostname+window.location.pathname;if(c===d)return!1;var f=a.title||"",g=a.dataType||"html",h=a.url,i=a.expire||3600,j=a.cache||!1,k="cached_"+h,l={url:h,title:f};if("undefined"!=typeof a.state)for(var m in a.state)l[m]=a.state[m];if(k in localStorage&&j){var n=JSON.parse(localStorage.getItem(k));if(JSON.stringify(n.State)===JSON.stringify(l)||""===f){var o=Math.floor(Date.now()/1e3)-n.time;if(i&&!(o>i))return void e(n)}}jA.ajax({url:h,type:"GET",dataType:g,headers:{HTTP_X_PJAX:"true"},success:function(b,c){var d="json"==a.dataType?b[a.titleNode]:a.title,f="json"==a.dataType?b[a.contentNode]:b,g=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;"json"==a.dataType&&"undefined"==typeof b[a.titleNode]&&(d="undefined"!=typeof a.title?a.title:""),"json"==a.dataType&&"undefined"==typeof b[a.contentNode]&&(f=b),f=f.replace(g," "),l.title=d;var i={container:Option.container,content:f,url:h,title:d,state:l,time:Math.floor(Date.now()/1e3)};localStorage.setItem(k,JSON.stringify(i)),e(i)}})},jA.fn.load=function(a,b,c){return this.length?this.each(function(){var f,c=this,d={type:"POST",url:a,dataType:"html",data:b},e=a.split(/\s/);e.length>1&&(d.url=e[0]),f=e[1],d.success=function(a){var b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;jA(c).html(f?jA(document.createElement("div")).html(a.replace(b," ")).find(f).html():a)},jA.ajax(d)}):this},jA.sse=function(a){var b=new EventSource(a.url);if("object"==typeof a.message)for(var c in a.message)b.addEventListener(c,a.message[c],!1);else"undefined"!=typeof a.message&&(b.onmessage=a.message);"undefined"!=typeof a.error&&(b.onerror=a.error),"undefined"!=typeof a.open&&b.addEventListener("open",a.open,!1)},jA.post=function(a,b,c){c=c||null;var d=new jA.deferred;return jA.ajax({url:a,type:"POST",dataType:"json",data:b,error:function(a){d.reject(a)},success:function(a){d.resolve(a)}}),d},jA.get=function(a,b){b=b||null;var c=new jA.deferred;if(null!==b){var d="";for(var e in b)d+=e+"="+b[e]+"&";d="?"+d.slice(0,-1)}return jA.ajax({url:a+d,type:"GET",dataType:"json",error:function(a){c.reject(a)},success:function(a){c.resolve(a)}}),c};