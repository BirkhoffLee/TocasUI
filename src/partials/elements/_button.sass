//**************************************
//***********   T H E M E   ************
//**************************************

=button-theme($color: #EEE, $textColor: false)

  @if not $textColor
    $textColor: lighten($color, 40%)
  
  
  
  &:not(.transparent)
    background  : $color
    border-color: darken($color, 4%)
    
  color      : $textColor
  text-shadow: 0 .1rem .1rem auten($color, 3%)
  
  
  &.transparent
    color: $color


  &.basic
    background-color: transparent
    border-color    : darken($textColor, 20%)
    text-shadow     : none
    color           : darken($textColor, 40%)

  &:hover
    +extend(ease)
    +poi
    
    &.transparent
      color: lighten($color, 8%)
      
    .label
      //opacity: 0.9
    
    &:not(.transparent)
      background-color: lighten($color, 2%)

      &.basic
        border-color    : darken($textColor, 15%)
        color           : darken($textColor, 35%)
        opacity         : 0.9
        background-color: transparent

  
  &:active,
  &.active
    +extend(no-ease)
    +extend(no-tap)
    
    &.transparent
      color: darken($color, 10%)
    
    .label
      opacity: 1

    &:not(.transparent)
      color           : darken($textColor, 10%)
      background-color: darken($color, 3%)
      box-shadow      : inset 0 0 1rem 0 darken($color, 6%)
    
      &.basic
        border-color: darken($textColor, 40%)
        color       : darken($textColor, 40%)
        opacity     : 1
        box-shadow  : none
    
    
  &.raised
    box-shadow         : 0 .2rem .4rem 0 darken($color, 4%), 0 .2rem 1rem 0 darken($color, 4%)
    border-color       : darken($color, 2%)
    border-bottom-width: .1rem
    
    &:active
      box-shadow: 0 .1rem .2rem 0 lighten($color, 5%), 0 .1rem .5rem 0 lighten($color, 5%)
  
  &.loading
    +loader-color($textColor)
  
  &[disabled="disabled"],
  &[disabled="true"]
  &[disabled],
  &.disabled
    background  : lighten($color, 10%)
    color       : rgba($textColor, 0.8)
    border-color: lighten($color, 10%)
    
    &:hover
      cursor    : not-allowed
      background: lighten($color, 10%)


.ts.buttons
  +inline-flex
  
  &.fluid
    width: 100%
  
    .button
      width: 100%
  
  .button
    +flex
    margin-right   : 0
    border-radius  : 0
    justify-content: center
    
    &:first-child
      border-top-left-radius   : .4rem
      border-bottom-left-radius: .4rem
      
        
    &:last-child
  
      border-top-right-radius   : .4rem
      border-bottom-right-radius: .4rem
      
    &:first-child:not(:last-child)
      border-right: none


    &:not(:last-child):not(:first-child)
      border-right: none
      

=button-generator
  @for $i from 1 through $buttonAmount
    @at-root
      #{&}.#{nth($buttonSizes, $i)}
        +y-padding($padding * ($i / 5))
        +x-padding($padding * ($i / 2))
        
        
        $fontSize  : nth($buttonFontSizes, $i)
        $loaderSize: $fontSize * 1.2
        
        min-width: $fontSize * 3
        font-size: $fontSize
 
      
        &.icon
          font-size: $fontSize + .2
          padding  : $padding / 1.2
      
        &.compact
          +y-padding($padding * ($i / 6))
          +x-padding($padding * ($i / 3))
      
        &.loading
          +loader-theme($loaderSize, .2rem)
          
          &:before, &:after
            top: calc(50% - #{$loaderSize} / 2)
            
          
            

//**************************************
//************   M A I N   *************
//**************************************
  
.ts.button
  +relative
  +border-box
  +inline-block
  +button-theme($defaultColor, auten($defaultColor, 40%))
  +extend(ease)
  +rd
  +normal
  +y-padding($padding * 0.8)
  +x-padding($padding * 2)
  +button-generator
  
  
  font-weight: 600
  
  border-width: .1rem
  border-style: solid
 
  text-decoration: none
  
  
  &:not(:last-child)
    margin-right: $margin / 2
  
  
  // Loading
  //
  //
  
  &.loading
    +relative
    +loader-theme(1.9rem, .2rem)
    +loader-resource
    
    color      : transparent !important
    text-shadow: none        !important
    
    &:before,
    &:after
      top: calc(50% - 1.9rem / 2)
  
  &.fluid
    width: 100%
  
  &.compact
    +y-padding($padding * 0.6)
    +x-padding($padding * 1.8)
    
  
  // Icon
  //
  //
  
  &.icon
    +padding
    
    line-height: .1rem
    min-width: 0
    
    .icon
      margin: 0 !important
  
  
  
  // Circular
  //
  //

  &.circular
    border-radius: 10rem
  
  
  // Transparent
  //
  //
  
  &.transparent
    background-color: transparent
    border          : none
  
  
  
  // Pure
  //
  //
  
  &.pure
    padding    : 0
    text-shadow: none !important
  

    
  
  
  // Labeled
  //
  //
  
  &.labeled
    +inline-flex

    padding         : 0
    border          : none
    background-color: transparent
    outline         : none
    
    .ts.button,
    .ts.label
      +flex-center

    .ts.label
      text-shadow: none
    
    &.left
      .ts.label
        border-right              : none
        border-top-right-radius   : 0
        border-bottom-right-radius: 0
        
      .ts.button
        border-top-left-radius   : 0
        border-bottom-left-radius: 0
  
    &:hover
      background-color: transparent
    
    &:active
      background-color: transparent
      box-shadow      : none

    
  
  
  //**************************************
  //**********   C O L O R S   ***********
  //**************************************
  
  &.positive
    +button-theme($positiveColor)
    
  &.negative
    +button-theme($negativeColor)
    
  &.primary
    +button-theme($primaryColor)
    
  &.warning
    +button-theme($warningColor)
    
  &.info
    +button-theme($infoColor)
  
  &.basic.inverted
    +button-theme($invertedColor, $invertedColor)
    border-width: .2rem
    
  &.inverted:not(.basic)
    +button-theme(#000, #CCC)
      




  //**************************************
  //***********   S I Z E S   ************
  //**************************************


.ts.buttons
  &.attached
    width: 100%
    
    .button
      width: 100%

      
    &.top
      border-bottom-right-radius: 0px
      border-bottom-left-radius : 0px
    
    &.bottom
      .button
        border-top-right-radius: 0px
        border-top-left-radius : 0px
    

    