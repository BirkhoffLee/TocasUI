@import ../../variables/elements/segment.variables

//*******************************//
//            Variations
//*******************************//

@mixin segment-variant($borderColor)
    border-top-color: $borderColor
    
@mixin segment-inverted-variant($color, $backgroundColor, $borderColor)
    color           : $color
    background-color: $backgroundColor
    border-color    : $borderColor

//*******************************//
//              Main
//*******************************//

.ts.segment
    position        : relative
    display         : block
    padding         : $segment_padding
    margin          : $segment_margin
    border          : $segment_border
    background-color: $segment_backgroundColor
    border-radius   : $segment_borderRadius
    box-shadow      : $segment_boxShadow
    
    +segment-variant($borderColor)
    
.ts.segment:first-child
    margin-top: 0
.ts.segment:last-child
    margin-bottom: 0

//-------------------//
//       Raised
//-------------------//

.ts.segment.raised
    box-shadow: $segment_raisedBoxShadow

//-------------------//
//      Accents
//-------------------//

.ts.segment.secondary,
.ts.segments.secondary .segment
    background-color: $segment_secondaryBackgroundColor
    color           : $segment_secondaryColor

.ts.segment.tertiary,
.ts.segments.tertiary .segment
    background-color: $segment_tertiaryBackgroundColor
    color           : $segment_tertiaryColor

//-------------------//
//      Flatted
//-------------------//

.ts.segment.flatted,
.ts.segments.flatted .segment
    box-shadow: none
    
//-------------------//
//      Borderless
//-------------------//

.ts.segment.borderless,
.ts.segments.borderless .segment
    border: 0

//-------------------//
//      Loading
//-------------------//

.ts.loading.segment 
    position: relative
    cursor: default
    pointer-events: none
    text-shadow: none !important
    color: transparent !important
    transition: all 0s linear
    border-color: transparent

.ts.loading.segment:before 
    position: absolute
    content: ''
    top: -#{$segment_coloredTopBorderWidth + $segment_borderWidth}
    left: -#{$segment_borderWidth}
    background: $segment_loaderDimmerColor
    width: calc(100% + #{$segment_borderWidth * 2})
    height: calc(100% + #{$segment_coloredTopBorderWidth + $segment_borderWidth})
    border-radius: $segment_borderRadius
    z-index: $segment_loaderDimmerZIndex


.ts.loading.segment.inverted:before
    top: -#{$segment_borderWidth}
    height: calc(100% + #{$segment_borderWidth * 2})

.ts.loading.segment:after 
    position: absolute
    content: ''
    top: 50%
    left: 50%

    margin: $loaderMargin
    width: $segment_loaderSize
    height: $segment_loaderSize

    animation: segment-spin $loaderSpeed linear
    animation-iteration-count: infinite

    border-radius: $circularRadius

    border-color: $loaderLineColor $loaderFillColor $loaderFillColor $loaderFillColor
    border-style: solid
    border-width: $loaderLineWidth

    box-shadow: 0px 0px 0px 1px transparent
    visibility: visible
    z-index: $segment_loaderLineZIndex


@keyframes segment-spin 
    from 
        transform: rotate(0deg)
    
    to 
        transform: rotate(360deg)
    


//-------------------//
//       Colors
//-------------------//

.ts.segment.primary:not(.inverted),
.ts.segments.primary:not(.inverted) .segment
    +segment-variant($segment_primaryBorderColor)
    border-top-width: $segment_coloredTopBorderWidth
.ts.segment.info:not(.inverted),
.ts.segments.info:not(.inverted) .segment
    +segment-variant($segment_infoBorderColor)
    border-top-width: $segment_coloredTopBorderWidth
.ts.segment.warning:not(.inverted),
.ts.segments.warning:not(.inverted) .segment
    +segment-variant($segment_warningBorderColor)
    border-top-width: $segment_coloredTopBorderWidth
.ts.segment.positive:not(.inverted),
.ts.segments.positive:not(.inverted) .segment
    +segment-variant($segment_positiveBorderColor)
    border-top-width: $segment_coloredTopBorderWidth
.ts.segment.negative:not(.inverted),
.ts.segments.negative:not(.inverted) .segment
    +segment-variant($segment_negativeBorderColor)
    border-top-width: $segment_coloredTopBorderWidth

//-------------------//
//  Inverted Colors
//-------------------//

.ts.segment.inverted.primary,
.ts.segments.inverted.primary .segment
    +segment-inverted-variant($segment_primaryTextColor, $segment_primaryBackgroundColor, $segment_primaryBorderColor)
.ts.segment.inverted.info,
.ts.segments.inverted.info .segment
    +segment-inverted-variant($segment_infoTextColor, $segment_infoBackgroundColor, $segment_infoBorderColor)
.ts.segment.inverted.warning,
.ts.segments.inverted.warning .segment
    +segment-inverted-variant($segment_warningTextColor, $segment_warningBackgroundColor, $segment_warningBorderColor)
.ts.segment.inverted.positive,
.ts.segments.inverted.positive .segment
    +segment-inverted-variant($segment_positiveTextColor, $segment_positiveBackgroundColor, $segment_positiveBorderColor)
.ts.segment.inverted.negative,
.ts.segments.inverted.negative .segment
    +segment-inverted-variant($segment_negativeTextColor, $segment_negativeBackgroundColor, $segment_negativeBorderColor)
.ts.segment.inverted,
.ts.segments.inverted .segment
    +segment-inverted-variant($segment_invertedTextColor, $segment_invertedBackgroundColor, $segment_invertedBorderColor)
    
//-------------------//
//       Padded
//-------------------//

.ts.segment.padded,
.ts.segments.padded .segment
    padding: $segment_paddedPadding

.ts.segment.very.padded,
.ts.segments.very.padded .segment
    padding: $segment_veryPaddedPadding

//-------------------//
//      Cleaning
//-------------------//

.ts.segment.cleaning:after
    display: block
    content: "\00a0"
    height : 0
    clear  : both
    visibility: hidden

//-------------------//
//       Fitted
//-------------------//

.ts.segment.fitted:not(.horizontally):not(.vertically)
    padding: 0
.ts.segment.fitted.horizontally
    padding-left : 0
    padding-right: 0
.ts.segment.fitted.vertically
    padding-top   : 0
    padding-bottom: 0
    
//-------------------//
//       Basic
//-------------------//

.ts.segment.basic
    border       : none
    box-shadow   : none
    background   : none
    border-radius: none
    
//-------------------//
//      Disabled
//-------------------//

.ts.segment.disabled
    opacity: $disabledOpacity
    color  : $disabledTextColor

//-------------------//
//       Aligns
//-------------------//  
    
.ts.segment[class*='center aligned'],
.ts.segments[class*='center aligned'] .segment
    text-align: center
.ts.segment[class*='left aligned'],
.ts.segments[class*='left aligned'] .segment
    text-align: left
.ts.segment[class*='right aligned'],
.ts.segments[class*='right aligned'] .segment
    text-align: right
    
.ts.segment.centered
    margin: 0 auto

//-------------------//
//       Fluid
//-------------------//  

.ts.segment.fluid
    border-radius: 0
    border       : none
    
//-------------------//
//      Compact
//-------------------//  

.ts.segment.compact
    display: table

//-------------------//
//      Attached
//-------------------//  

.ts.segment.attached

    &:not(.top)
        margin-top: 0
  
        border-top-left-radius : 0
        border-top-right-radius: 0
        border-top-width       : $segment_borderWidth

    &:not(.bottom)
        margin-bottom: 0

        border-bottom-left-radius : 0
        border-bottom-right-radius: 0
        border-bottom-width       : $segment_borderWidth

//*******************************//
//            Segments
//*******************************//

.ts.segments
    font-size: 0
    
    > .segment
        font-size: $fontSize
  
    &:not(.horizontal)
        > .segment
            &:first-child:not(:last-child)
                margin-bottom: 0
                border-bottom: none
                border-bottom-right-radius: 0
                border-bottom-left-radius : 0

            &:not(:last-child):not(:first-child)
                margin-top   : 0
                margin-bottom: 0
                border-bottom: none
                border-top-right-radius   : 0
                border-top-left-radius    : 0
                border-bottom-right-radius: 0
                border-bottom-left-radius : 0
    
            &:last-child
                margin-top: 0
                border-top-right-radius: 0
                border-top-left-radius : 0


    &.horizontal
        display: flex
        margin-top   : $segment_verticalMargin
        margin-bottom: $segment_verticalMargin
  
        > .segment
            display: inline-block
            flex   : 1
            margin : 0
  
            &:first-child:not(:last-child)
                border-right               : none
                border-top-right-radius    : 0
                border-bottom-right-radius : 0
      
            &:not(:last-child):not(:first-child)
                border-right              : none
                border-top-right-radius   : 0
                border-top-left-radius    : 0
                border-bottom-right-radius: 0
                border-bottom-left-radius : 0
      
            &:last-child
                border-top-left-radius    : 0
                border-bottom-left-radius : 0
